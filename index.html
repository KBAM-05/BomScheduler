<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ë¦¬ì•„ì´ ë§ì¶¤ ì£¼ê°„ ìŠ¤ì¼€ì¤„ëŸ¬ (ìµœì¢…ë³¸)</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #FDFBF8; color: #4A4A4A; }
        .timeline-item { position: relative; padding-left: 2rem; display: flex; align-items: flex-start; gap: 1rem; }
        .timeline-item::before { content: ''; position: absolute; left: 1.25rem; top: 1.25rem; bottom: -1.25rem; width: 2px; background-color: #EAEAEA; transform: translateX(-50%); }
        .timeline-item:last-child::before { display: none; }
        .tab-active, .analysis-tab-active { background-color: #A4C3B2; color: white; font-weight: 700; }
        .tab-inactive, .analysis-tab-inactive { background-color: #F0F0F0; color: #6B7280; }
        .current-activity { background-color: #FFFBEB; border-left-color: #F59E0B !important; transform: scale(1.02); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); z-index: 10; }
        .completed-activity .activity-text { text-decoration: line-through; color: #9CA3AF; }
        #schedule-content { max-height: 500px; overflow-y: auto; padding-right: 10px; }
        #editModal.hidden, #management-overlay.hidden { display: none; }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
        <header class="text-center mb-8 relative">
            <h1 class="text-3xl sm:text-4xl font-bold text-[#3B666B] mb-2">ìš°ë¦¬ì•„ì´ ë§ì¶¤ ì£¼ê°„ ìŠ¤ì¼€ì¤„ëŸ¬</h1>
            <p class="text-lg text-gray-600">ì•„ì´ì˜ í•˜ë£¨ë¥¼ ì‚¬ë‘ê³¼ ê³„íšìœ¼ë¡œ ì±„ì›Œì£¼ì„¸ìš”</p>
            <button id="manage-schedule-btn" title="ì „ì²´ ì¼ì • ê´€ë¦¬" class="absolute top-0 right-0 bg-white p-3 rounded-full shadow-md hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
            </button>
        </header>

        <main class="lg:grid lg:grid-cols-3 lg:gap-8"></main>
    </div>
    <div id="management-overlay" class="hidden fixed inset-0 bg-white z-50 p-4 sm:p-8 overflow-y-auto"></div>
    <div id="editModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60] p-4"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let scheduleData = {};
            const categoryColors = { 'ì¹˜ë£Œ': '#FF7F50', 'í•™ìŠµ': '#6495ED', 'ë…ì„œ': '#8A2BE2', 'ë†€ì´': '#3CB371', 'íœ´ì‹': '#FFD700', 'ê¸°ë³¸ìƒí™œ': '#A9A9A9', 'ì™¸ë¶€ìˆ˜ì—…': '#DC143C' };
            const defaultSchedule = {
                'ì›”': [
                    { time: '07:40', activity: 'ê¸°ìƒ', description: 'ì¼ì–´ë‚  ì‹œê°„ì´ì—ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!', category: 'ê¸°ë³¸ìƒí™œ', icon: 'â˜€ï¸', alarmType: 'continuous' },
                    { time: '08:15', activity: 'í•™êµ ê°ˆ ì¤€ë¹„', description: 'ì„¸ìˆ˜í•˜ê³ , ì˜· ì…ê³ , ê°€ë°© ì±™ê¸°ê¸°', category: 'ê¸°ë³¸ìƒí™œ', icon: 'ğŸ’', alarmType: 'continuous' },
                    { time: '17:00', activity: 'ì§‘ ë„ì°©, íœ´ì‹ ë° ììœ  ë†€ì´', description: 'ê°„ì‹ì„ ë¨¹ê³  í¸ì•ˆí•œ ì‹œê°„ì„ ë³´ë‚´ìš”.', category: 'íœ´ì‹', icon: 'ğŸ ' }
                ],
                'í™”': [
                    { time: '07:40', activity: 'ê¸°ìƒ', description: 'ì¼ì–´ë‚  ì‹œê°„ì´ì—ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!', category: 'ê¸°ë³¸ìƒí™œ', icon: 'â˜€ï¸', alarmType: 'continuous' },
                    { time: '08:15', activity: 'í•™êµ ê°ˆ ì¤€ë¹„', description: 'ì„¸ìˆ˜í•˜ê³ , ì˜· ì…ê³ , ê°€ë°© ì±™ê¸°ê¸°', category: 'ê¸°ë³¸ìƒí™œ', icon: 'ğŸ’', alarmType: 'continuous' },
                    { time: '17:00', activity: 'ì§‘ ë„ì°©, ê°„ì‹ ë° íœ´ì‹', description: 'í•™êµ ë‹¤ë…€ì˜¨ í›„ ì¶©ë¶„íˆ ì‰¬ì–´ìš”.', category: 'íœ´ì‹', icon: 'ğŸ ' }
                ],
                'ìˆ˜': [
                    { time: '07:40', activity: 'ê¸°ìƒ', description: 'ì¼ì–´ë‚  ì‹œê°„ì´ì—ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!', category: 'ê¸°ë³¸ìƒí™œ', icon: 'â˜€ï¸', alarmType: 'continuous' },
                    { time: '08:15', activity: 'í•™êµ ê°ˆ ì¤€ë¹„', description: 'ì„¸ìˆ˜í•˜ê³ , ì˜· ì…ê³ , ê°€ë°© ì±™ê¸°ê¸°', category: 'ê¸°ë³¸ìƒí™œ', icon: 'ğŸ’', alarmType: 'continuous' },
                    { time: '16:30', activity: 'í†µí•© ê°ê° ì¹˜ë£Œ (ì™¸ë¶€)', description: 'ì¹˜ë£Œë¥¼ í†µí•´ ë‹¤ì–‘í•œ ê°ê°ì„ ê²½í—˜í•´ìš”.', category: 'ì¹˜ë£Œ', icon: '?' }
                ],
                'ëª©': [
                    { time: '07:40', activity: 'ê¸°ìƒ', description: 'ì¼ì–´ë‚  ì‹œê°„ì´ì—ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!', category: 'ê¸°ë³¸ìƒí™œ', icon: 'â˜€ï¸', alarmType: 'continuous' },
                    { time: '08:15', activity: 'í•™êµ ê°ˆ ì¤€ë¹„', description: 'ì„¸ìˆ˜í•˜ê³ , ì˜· ì…ê³ , ê°€ë°© ì±™ê¸°ê¸°', category: 'ê¸°ë³¸ìƒí™œ', icon: 'ğŸ’', alarmType: 'continuous' },
                    { time: '16:00', activity: 'ì¸ì§€ ì¹˜ë£Œ (ì™¸ë¶€)', description: 'ìƒê°í•˜ëŠ” í˜ì„ ê¸°ë¥´ëŠ” ì¦ê±°ìš´ ì¹˜ë£Œ ì‹œê°„.', category: 'ì¹˜ë£Œ', icon: 'ğŸ§ ' }
                ],
                'ê¸ˆ': [
                    { time: '07:40', activity: 'ê¸°ìƒ', description: 'ì¼ì–´ë‚  ì‹œê°„ì´ì—ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë„ í™”ì´íŒ…!', category: 'ê¸°ë³¸ìƒí™œ', icon: 'â˜€ï¸', alarmType: 'continuous' },
                    { time: '08:15', activity: 'í•™êµ ê°ˆ ì¤€ë¹„', description: 'ì„¸ìˆ˜í•˜ê³ , ì˜· ì…ê³ , ê°€ë°© ì±™ê¸°ê¸°', category: 'ê¸°ë³¸ìƒí™œ', icon: 'ğŸ’', alarmType: 'continuous' },
                    { time: '17:00', activity: 'ì‚¬íšŒì„± ìˆ˜ì—… (ì™¸ë¶€)', description: 'ì¹œêµ¬ë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ë°©ë²•ì„ ë°°ì›Œìš”.', category: 'ì¹˜ë£Œ', icon: 'ğŸ§‘â€ğŸ¤â€ğŸ§‘' }
                ],
                'í† ': [{ time: '09:30', activity: 'ê¸°ìƒ ë° ì•„
